<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz Maker</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f0f2f5;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
  }
  h1 { color: #333; }
  #quiz-form, #quiz-container { 
    background: #fff; 
    padding: 20px; 
    border-radius: 10px; 
    box-shadow: 0 0 10px #aaa; 
    width: 100%; 
    max-width: 600px; 
    margin-bottom: 20px;
  }
  input, button, textarea { width: 100%; margin: 5px 0; padding: 8px; }
  .option-input { margin-left: 10px; }
  .option { display: block; margin: 5px 0; }
  #result { font-size: 20px; text-align: center; margin-top: 20px; }
</style>
</head>
<body>

<h1>Interactive Quiz Maker</h1>

<div id="quiz-form">
  <h2>Add Questions</h2>
  <textarea id="question-text" placeholder="Enter question here"></textarea>
  <input type="text" class="option-input" placeholder="Option 1">
  <input type="text" class="option-input" placeholder="Option 2">
  <input type="text" class="option-input" placeholder="Option 3">
  <input type="text" class="option-input" placeholder="Option 4">
  <input type="text" id="correct-answer" placeholder="Enter correct option exactly as written">
  <button id="add-question">Add Question</button>
</div>

<button id="start-quiz">Start Quiz</button>

<div id="quiz-container" style="display:none;">
  <h2 id="question"></h2>
  <div id="options"></div>
  <button id="next">Next</button>
</div>

<div id="result"></div>

<script>
let quizData = [];
let currentQuestion = 0;
let score = 0;

const addBtn = document.getElementById("add-question");
const startBtn = document.getElementById("start-quiz");
const questionEl = document.getElementById("question");
const optionsEl = document.getElementById("options");
const quizContainer = document.getElementById("quiz-container");
const nextBtn = document.getElementById("next");
const resultEl = document.getElementById("result");

addBtn.addEventListener("click", () => {
  const q = document.getElementById("question-text").value;
  const options = Array.from(document.getElementsByClassName("option-input")).map(i => i.value);
  const answer = document.getElementById("correct-answer").value;
  if (q && options.every(o => o) && answer) {
    quizData.push({question: q, options: options, answer: answer});
    alert("Question added!");
    document.getElementById("question-text").value = "";
    document.getElementsByClassName("option-input")[0].value = "";
    document.getElementsByClassName("option-input")[1].value = "";
    document.getElementsByClassName("option-input")[2].value = "";
    document.getElementsByClassName("option-input")[3].value = "";
    document.getElementById("correct-answer").value = "";
  } else {
    alert("Please fill all fields!");
  }
});

startBtn.addEventListener("click", () => {
  if(quizData.length === 0){
    alert("Add at least one question!");
    return;
  }
  document.getElementById("quiz-form").style.display = "none";
  startBtn.style.display = "none";
  quizContainer.style.display = "block";
  loadQuestion();
});

function loadQuestion() {
  const q = quizData[currentQuestion];
  questionEl.innerText = q.question;
  optionsEl.innerHTML = "";
  q.options.forEach(option => {
    const btn = document.createElement("button");
    btn.className = "option";
    btn.innerText = option;
    btn.onclick = () => selectAnswer(option);
    optionsEl.appendChild(btn);
  });
}

function selectAnswer(selected) {
  const correct = quizData[currentQuestion].answer;
  if (selected === correct) score++;
  currentQuestion++;
  if (currentQuestion < quizData.length) {
    loadQuestion();
  } else {
    showResult();
  }
}

function showResult() {
  quizContainer.style.display = "none";
  resultEl.innerText = `Quiz Completed! Your Score: ${score} / ${quizData.length}`;
}

nextBtn.addEventListener("click", () => {
  // Next handled on option click
});
</script>

</body>
</html>
